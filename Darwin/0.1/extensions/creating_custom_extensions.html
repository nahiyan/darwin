<!DOCTYPE html>
<html lang="en">

  <head>
        <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Creating Custom Extensions :: Darwin Docs</title>
    <meta name="generator" content="Antora 2.3.4">
    <link rel="stylesheet" href="../../../_/css/site.css">
<link rel="stylesheet" href="../../../_/css/search.css">
  </head>

  <body class="article">
    <header class="header" role="banner">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="../../../index.html">Darwin Docs</a>
      <div class="navbar-item">
        <input id="search-input" type="text" placeholder="Search docs">
      </div>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>

    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="../../../index.html">Home</a>
      </div>
    </div>
  </nav>
</header>
    <div class="body">
<div class="nav-container" data-component="Darwin" data-version="0.1">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">Darwin</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../index.html">Introduction</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../getting_started.html">Getting Started</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../dependencies.html">Dependencies</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../control_panel.html">Control Panel</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../web_portal.html">Web Portal</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Core Concepts</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../core_concepts/overview.html">Overview</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../core_concepts/evolution_session.html">Evolution Session</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../core_concepts/scoring_and_ranking.html">Scoring and Ranking</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../core_concepts/reproduction.html">Reproduction</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../core_concepts/rendering_and_event_management.html">Rendering and Event Management</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../core_concepts/data_storage.html">Data Storage</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Extensions</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="introduction.html">Introduction</a>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="creating_custom_extensions.html">Creating Custom Extensions</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="jumpers.html">Jumpers</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="wheels.html">Wheels</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="flappers.html">Flappers</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Core Modules</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../core_modules/introduction.html">Introduction</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../core_modules/session.html">Session</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../core_modules/evolution_session.html">Evolution Session</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../core_modules/evolution_common.html">Evolution Common</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../core_modules/database.html">Database</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../core_modules/common_generation_state.html">Common Generation State</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../core_modules/listeners.html">Listeners</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../core_modules/hud.html">Heads-up Display</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../core_modules/debug.html">Debug</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Darwin</span>
    <span class="version">0.1</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">Darwin</span>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">0.1</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">Darwin</a></li>
    <li>Extensions</li>
    <li><a href="creating_custom_extensions.html">Creating Custom Extensions</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="file:///Users/nahiyanalamgir/code/darwin-gh-pages/docs/src/docs/modules/extensions/pages/creating_custom_extensions.adoc">Edit this Page</a></div>
</div>
  <div class="content">
<article class="doc">
<h1 class="page">Creating Custom Extensions</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>The process of creating a custom extension is designed to be easy, simple, yet flexible and powerful.</p>
</div>
<div class="paragraph">
<p>The following steps are laid out to help you create your own extension right now!</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>Throughout the entire documentation, leading slashes indicate the root of the Darwin&#8217;s repository.</p>
</div>
</blockquote>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_naming_convention"><a class="anchor" href="#_naming_convention"></a>Naming Convention</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Pick a name for your extension. It&#8217;s advised to use a consistent naming convention wherever appropriate. Naming guidelines will be provided whenever the extension name is involved.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_step_1_laying_out_the_directories"><a class="anchor" href="#_step_1_laying_out_the_directories"></a>Step 1: Laying out the Directories</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_source_files"><a class="anchor" href="#_source_files"></a>Source Files</h3>
<div class="paragraph">
<p>Create a directory for holding your source code inside <code>/extensions</code>, with your extension&#8217;s name. It&#8217;s conventional to use snake case. If your name is called "Lorem Ipsum", the directory name will be "lorem_ipsum".</p>
</div>
<div class="paragraph">
<p>Inside it, by convention, create a directory called <code>classes</code> to hold your C classes. This is because the `/CMakeLists.txt` file compiles the C files in this directory. If you want to have an unconventional directory structure, feel free to modify the <code>/CMakeLists.txt</code> to include the source files in your extension.</p>
</div>
<div class="paragraph">
<p>By now, the directory structure should look like this:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>├─ extensions/
│  ├─ &lt;EXTENSION_NAME&gt;/
│  │  ├─ classes/</pre>
</div>
</div>
<div class="paragraph">
<p>Replace <em>&lt;EXTENSION_NAME&gt;</em> with the name of your extension.</p>
</div>
</div>
<div class="sect2">
<h3 id="_header_files"><a class="anchor" href="#_header_files"></a>Header Files</h3>
<div class="paragraph">
<p>Create a directory with the name of your extension (in snake case) in <code>/includes/extensions</code>. This is where you&#8217;ll keep your header files. The <code>/includes</code> directory is set in the <code>/CMakeLists.txt</code> to be automatically searched for header files.</p>
</div>
</div>
<div class="sect2">
<h3 id="_resources"><a class="anchor" href="#_resources"></a>Resources</h3>
<div class="paragraph">
<p>If you&#8217;re creating an extension based on cocos2d-x, the resources, such as images, sprite sheets, audio, fonts, etc will reside in the <code>/resources</code> directory. To keep the contents organized, each extension will have its own directory.</p>
</div>
<div class="paragraph">
<p>Create a directory in <code>/resources</code> with the snake-cased version of your extension&#8217;s name. The <code>/resources</code> directory, along with its content, will be automatically included in Darwin&#8217;s executable as per the <code>/CMakeLists.txt</code> file.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_step_2_creating_appdelegate_and_mainscene_class"><a class="anchor" href="#_step_2_creating_appdelegate_and_mainscene_class"></a>Step 2: Creating AppDelegate and MainScene class</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This step can be safely ignored if your extension isn&#8217;t based on cocos2d-x.</p>
</div>
<div class="paragraph">
<p>Inside <code>/extensions/&lt;EXTENSION_NAME&gt;/classes</code> directory, create two files for two classes - <code>AppDelegate</code> and <code>MainScene</code>. It&#8217;s conventional to use pascal casing for the file names.</p>
</div>
<div class="paragraph">
<p>Please follow cocos2d-x documentation for defining the classes.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_step_3_adding_extension_to_the_web_portal"><a class="anchor" href="#_step_3_adding_extension_to_the_web_portal"></a>Step 3: Adding Extension to the Web Portal</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To add your extension to the web portal, you need to add an entry to the <code>extensions</code> table in the <code>/portal/database/database.db</code> database. It&#8217;s an SQLite database and can be modified with any standard SQLite database reader. It&#8217;s conventional to use snake case in the entry of your extension&#8217;s name.</p>
</div>
<div class="paragraph">
<p>It&#8217;s advised to create an entry for your extension through seeding. Please follow Laravel&#8217;s documentation for seeders.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_step_4_making_the_extension_runnable_through_the_control_panel"><a class="anchor" href="#_step_4_making_the_extension_runnable_through_the_control_panel"></a>Step 4: Making the Extension Runnable Through the Control Panel</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To make it possible to run the extension through the control panel, you need to add a piece of code in the <code>ControlPanelFrame::StartEvolution</code> method of the <code>/src/ControlPanel.cpp</code> file.</p>
</div>
<div class="paragraph">
<p>Here&#8217;s what the segment of code may look like, where &lt;EXTENSION_NAME&gt; is the name of your extension in Pascal Case:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>if (extensionName == "Jumper")
{
    Jumper::AppDelegate app;
    cocos2d::Application::getInstance()-&gt;run();
}
else if (extensionName == "Wheels")
{
    Wheels::AppDelegate app;
    cocos2d::Application::getInstance()-&gt;run();
}
else if (extensionName == "&lt;EXTENSION_NAME&gt;")
{
    &lt;EXTENSION_NAME&gt;::AppDelegate app;
    cocos2d::Application::getInstance()-&gt;run();
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The example above involves an extension based on cocos2d-x. Your extension can be based on anything you desire.</p>
</div>
</div>
</div>
</article>
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
  </div>
</main>
</div>
    <script>
  window.antora = window.antora || {}
  window.antora.basePath = '../../..'
  window.antora.pagePath = '/Darwin/0.1/extensions/creating_custom_extensions.html'
</script>
<script src="../../../_/js/site.js"></script>
<script src="../../../_/js/vendor/lunr.js"></script>
<script src="../../../_/js/vendor/search.js"></script>
<script async src="../../../_/../search-index.js"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
  </body>

</html>
